!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof module&&module.exports){var i;try{i=require("jquery")}catch(t){i=null}module.exports=e(i)}else t.Slider=e(t.jQuery)}(this,function(t){var e;return function(t){"use strict";function e(){}var c=Array.prototype.slice;!function(p){if(p){var u="undefined"==typeof console?e:function(t){console.error(t)};p.bridget=function(t,e){var l,h,i;(i=e).prototype.option||(i.prototype.option=function(t){p.isPlainObject(t)&&(this.options=p.extend(!0,this.options,t))}),l=t,h=e,p.fn[l]=function(e){if("string"==typeof e){for(var t=c.call(arguments,1),i=0,s=this.length;i<s;i++){var o=this[i],n=p.data(o,l);if(n)if(p.isFunction(n[e])&&"_"!==e.charAt(0)){var a=n[e].apply(n,t);if(void 0!==a&&a!==n)return a}else u("no such method '"+e+"' for "+l+" instance");else u("cannot call methods on "+l+" prior to initialization; attempted to call '"+e+"'")}return this}var r=this.map(function(){var t=p.data(this,l);return t?(t.option(e),t._init()):(t=new h(this,e),p.data(this,l,t)),p(this)});return!r||1<r.length?r:r[0]}},p.bridget}}(t)}(t),function(x){function i(t,e){function i(t,e){var i="data-slider-"+e.replace(/_/g,"-"),s=t.getAttribute(i);try{return JSON.parse(s)}catch(t){return s}}"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),e=e||{};for(var s=Object.keys(this.defaultOptions),o=0;o<s.length;o++){var n=s[o],a=e[n];a=null!==(a=void 0!==a?a:i(this.element,n))?a:this.defaultOptions[n],this.options||(this.options={}),this.options[n]=a}var r,l,h,p,u,c=this.element.style.width,d=!1,f=this.element.parentNode;if(this.sliderElem)d=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var m=document.createElement("div");if(m.className="slider-track",(l=document.createElement("div")).className="slider-track-low",(r=document.createElement("div")).className="slider-selection",(h=document.createElement("div")).className="slider-track-high",(p=document.createElement("div")).className="slider-handle min-slider-handle",(u=document.createElement("div")).className="slider-handle max-slider-handle",m.appendChild(l),m.appendChild(r),m.appendChild(h),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){for(o=0;o<this.options.ticks.length;o++){var v=document.createElement("div");v.className="slider-tick",this.ticks.push(v),m.appendChild(v)}r.className+=" tick-slider-selection"}if(m.appendChild(p),m.appendChild(u),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",o=0;o<this.options.ticks_labels.length;o++){var g=document.createElement("div");g.className="slider-tick-label",g.innerHTML=this.options.ticks_labels[o],this.tickLabels.push(g),this.tickLabelContainer.appendChild(g)}var b=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},y=document.createElement("div");y.className="tooltip tooltip-main",b(y);var _=document.createElement("div");_.className="tooltip tooltip-min",b(_);var k=document.createElement("div");k.className="tooltip tooltip-max",b(k),this.sliderElem.appendChild(m),this.sliderElem.appendChild(y),this.sliderElem.appendChild(_),this.sliderElem.appendChild(k),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),f.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(x&&(this.$element=x(this.element),this.$sliderElem=x(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),w[this.options.scale]&&(this.options.scale=w[this.options.scale]),!0===d&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=c,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackLow=l||this.trackLow,this.trackSelection=r||this.trackSelection,this.trackHigh=h||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=p||this.handle1,this.handle2=u||this.handle2,!0===d)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),o=0;o<this.ticks.length;o++)this._removeClass(this.ticks[o],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),o=0;o<this.ticks.length;o++)this._addClass(this.ticks[o],this.options.handle);this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var s=function(t){return"Invalid input value '"+t+"' passed in"},w={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min);if(0<this.options.ticks_positions.length){for(var i,s,o,n=0,a=0;a<this.options.ticks_positions.length;a++)if(t<=this.options.ticks_positions[a]){i=0<a?this.options.ticks[a-1]:0,o=0<a?this.options.ticks_positions[a-1]:0,s=this.options.ticks[a],n=this.options.ticks_positions[a];break}if(0<a)e=i+(t-o)/(n-o)*(s-i)}var r=this.options.min+Math.round(e/this.options.step)*this.options.step;return r<this.options.min?this.options.min:r>this.options.max?this.options.max:r},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var e,i,s,o=0,n=0;n<this.options.ticks.length;n++)if(t<=this.options.ticks[n]){e=0<n?this.options.ticks[n-1]:0,s=0<n?this.options.ticks_positions[n-1]:0,i=this.options.ticks[n],o=this.options.ticks_positions[n];break}if(0<n)return s+(t-e)/(i-e)*(o-s)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),s=Math.exp(e+(i-e)*t/100);return(s=this.options.min+Math.round((s-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:s>this.options.max?this.options.max:s},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};if((e=function(t,e){return i.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(t,e,i){t||(t=0);var s=this.getValue();this.options.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=o(this.options.value[0]),this.options.value[1]=o(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=o(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),this.options.value[1]="after"===this.options.selection?this.options.max:this.options.min),this.percentage=this.options.max>this.options.min?[this._toPercentage(this.options.value[0]),this._toPercentage(this.options.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout();var n=this.options.range?this.options.value:this.options.value[0];return!0===e&&this._trigger("slide",n),s!==n&&!0===i&&this._trigger("change",{oldValue:s,newValue:n}),this._setDataVal(n),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),x&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),x&&x.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];this.eventToCallbackMap[i]=null}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this.over=!0},_hideTooltip:function(){!1===this.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var t,e;if(t=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle2.style[this.stylePos]=t[1]+"%",Array.isArray(this.options.ticks)&&0<this.options.ticks.length){var i=Math.max.apply(Math,this.options.ticks),s=Math.min.apply(Math,this.options.ticks),o="vertical"===this.options.orientation?"height":"width",n="vertical"===this.options.orientation?"marginTop":"marginLeft",a=this.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var r=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[n]=-a/2+"px",r=this.tickLabelContainer.offsetHeight;else for(l=0;l<this.tickLabelContainer.childNodes.length;l++)this.tickLabelContainer.childNodes[l].offsetHeight>r&&(r=this.tickLabelContainer.childNodes[l].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=r+"px")}for(var l=0;l<this.options.ticks.length;l++){var h=this.options.ticks_positions[l]||100*(this.options.ticks[l]-s)/(i-s);this.ticks[l].style[this.stylePos]=h+"%",this._removeClass(this.ticks[l],"in-selection"),this.options.range?t[0]<=h&&h<=t[1]&&this._addClass(this.ticks[l],"in-selection"):"after"===this.options.selection&&t[0]<=h?this._addClass(this.ticks[l],"in-selection"):"before"===this.options.selection&&h<=t[0]&&this._addClass(this.ticks[l],"in-selection"),this.tickLabels[l]&&(this.tickLabels[l].style[o]=a+"px",void 0!==this.options.ticks_positions[l]&&(this.tickLabels[l].style.position="absolute",this.tickLabels[l].style[this.stylePos]=this.options.ticks_positions[l]+"%",this.tickLabels[l].style[n]=-a/2+"px"))}}if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var p=this.tooltip_min.getBoundingClientRect(),u=this.tooltip_max.getBoundingClientRect();p.right>u.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}if(this.options.range){e=this.options.formatter(this.options.value),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var c=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,c);var d=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,d),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else e=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this.options.enabled)return!1;this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this.percentage[0]-e),s=Math.abs(this.percentage[1]-e);this.dragged=i<s?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-e:e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this.dragged),!0},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this.options.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var s="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(s||o)&&(i=-i)}var n=this.options.value[t]+i*this.options.step;return this.options.range&&(n=[t?this.options.value[0]:n,t?n:this.options.value[1]]),this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!0,!0),this._trigger("slideStop",n),this._setDataVal(n),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this.options.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this.percentage[this.dragged]=this.options.reversed?100-e:e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_adjustPercentageForRangeSliders:function(t){this.options.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),(this.inDrag=!1)===this.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._trigger("slideStop",t),this._setDataVal(t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this.percentage[0]&&(e[0]=this._toValue(this.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this.percentage[1]&&(e[1]=this._toValue(this.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],s=0;s<this.options.ticks.length;s++){var o=Math.abs(this.options.ticks[s]-e);o<=i[1]&&(i=[this.options.ticks[s],o])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=(t[this.mousePos]-this.offset[this.stylePos])/this.size*100;return e=Math.round(e/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,e))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s(t))},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(s(i))}},_setDataVal:function(t){var e="value: '"+t+"'";this.element.setAttribute("data",e),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(t,e){e=e||0===e?e:void 0;var i=this.eventToCallbackMap[t];if(i&&i.length)for(var s=0;s<i.length;s++){(0,i[s])(e)}x&&this._triggerJQueryEvent(t,e)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.innerText?t.innerText=e:void 0!==t.textContent&&(t.textContent=e)},_removeClass:function(t,e){for(var i=e.split(" "),s=t.className,o=0;o<i.length;o++){var n=i[o],a=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");s=s.replace(a," ")}t.className=s.trim()},_addClass:function(t,e){for(var i=e.split(" "),s=t.className,o=0;o<i.length;o++){var n=i[o];new RegExp("(?:\\s|^)"+n+"(?:\\s|$)").test(s)||(s+=" "+n)}t.className=s.trim()},_offsetLeft:function(t){for(var e=t.offsetLeft;(t=t.offsetParent)&&!isNaN(t.offsetLeft);)e+=t.offsetLeft;return e},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop;return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(t,e,i){if(x)x.style(t,e,i);else{var s=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});t.style[s]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])}},x){var t=x.fn.slider?"bootstrapSlider":"slider";x.bridget(t,e)}}(t),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):window.jQuery&&!window.jQuery.fn.colorpicker&&t(window.jQuery)}(function(l){"use strict";var s=function(t){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,t&&(void 0!==t.toLowerCase?(t+="",this.setColor(t)):void 0!==t.h&&(this.value=t))};s.prototype={constructor:s,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(t){return"number"==typeof t?t:isNaN(t)||null===t||""===t||void 0===t?1:void 0!==t.toLowerCase?parseFloat(t):1},isTransparent:function(t){return!!t&&("transparent"==(t=t.toLowerCase().trim())||t.match(/#?00000000/)||t.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(t){return 0==t.r&&0==t.g&&0==t.b&&0==t.a},setColor:function(t){(t=t.toLowerCase().trim())&&(this.value=this.isTransparent(t)?{h:0,s:0,b:0,a:0}:this.stringToHSB(t)||{h:0,s:0,b:0,a:1})},stringToHSB:function(n){n=n.toLowerCase();var a=this,r=!1;return l.each(this.stringParsers,function(t,e){var i=e.re.exec(n),s=i&&e.parse.apply(a,[i]),o=e.format||"rgba";return!s||(r=o.match(/hsla?/)?a.RGBtoHSB.apply(a,a.HSLtoRGB.apply(a,s)):a.RGBtoHSB.apply(a,s),a.origFormat=o,!1)}),r},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setBrightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=parseInt(100*(1-t),10)/100},toRGB:function(t,e,i,s){var o,n,a,r,l;return t||(t=this.value.h,e=this.value.s,i=this.value.b),t=(t*=360)%360/60,o=n=a=i-(l=i*e),o+=[l,r=l*(1-Math.abs(t%2-1)),0,0,r,l][t=~~t],n+=[r,l,l,r,0,0][t],a+=[0,0,r,l,l,r][t],{r:Math.round(255*o),g:Math.round(255*n),b:Math.round(255*a),a:s||this.value.a}},toHex:function(t,e,i,s){var o=this.toRGB(t,e,i,s);return this.rgbaIsTransparent(o)?"transparent":"#"+(1<<24|parseInt(o.r)<<16|parseInt(o.g)<<8|parseInt(o.b)).toString(16).substr(1)},toHSL:function(t,e,i,s){t=t||this.value.h,e=e||this.value.s,i=i||this.value.b,s=s||this.value.a;var o=t,n=(2-e)*i,a=e*i;return a/=0<n&&n<=1?n:2-n,n/=2,1<a&&(a=1),{h:isNaN(o)?0:o,s:isNaN(a)?0:a,l:isNaN(n)?0:n,a:isNaN(s)?0:s}},toAlias:function(t,e,i,s){var o=this.toHex(t,e,i,s);for(var n in this.colors)if(this.colors[n]==o)return n;return!1},RGBtoHSB:function(t,e,i,s){var o,n,a,r;return t/=255,e/=255,i/=255,o=((o=0===(r=(a=Math.max(t,e,i))-Math.min(t,e,i))?null:a===t?(e-i)/r:a===e?(i-t)/r+2:(t-e)/r+4)+360)%6*60/360,n=0===r?0:r/a,{h:this._sanitizeNumber(o),s:n,b:a,a:this._sanitizeNumber(s)}},HueToRGB:function(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t},HSLtoRGB:function(t,e,i,s){var o;e<0&&(e=0);var n=2*i-(o=i<=.5?i*(1+e):i+e-i*e),a=t+1/3,r=t,l=t-1/3;return[Math.round(255*this.HueToRGB(n,o,a)),Math.round(255*this.HueToRGB(n,o,r)),Math.round(255*this.HueToRGB(n,o,l)),this._sanitizeNumber(s)]},toString:function(t){switch(t=t||"rgba"){case"rgb":var e=this.toRGB();return this.rgbaIsTransparent(e)?"transparent":"rgb("+e.r+","+e.g+","+e.b+")";case"rgba":return"rgba("+(e=this.toRGB()).r+","+e.g+","+e.b+","+e.a+")";case"hsl":var i=this.toHSL();return"hsl("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%)";case"hsla":i=this.toHSL();return"hsla("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%,"+i.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return!1}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(t){return[t[1],t[2],t[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(t){var e=this.colorNameToHex(t[0])||"#000000",i=this.stringParsers[6].re.exec(e);return i&&this.stringParsers[6].parse.apply(this,[i])}}],colorNameToHex:function(t){return void 0!==this.colors[t.toLowerCase()]&&this.colors[t.toLowerCase()]}};var i={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>',align:"right",customClass:null},a=function(t,e){this.element=l(t).addClass("colorpicker-element"),this.options=l.extend(!0,{},i,this.element.data(),e),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&l(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new s(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,this.picker=l(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.picker.addClass(this.options.inline?"colorpicker-inline colorpicker-visible":"colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),("rgba"===this.format||"hsla"===this.format||!1===this.options.format)&&this.picker.addClass("colorpicker-with-alpha"),"right"===this.options.align&&this.picker.addClass("colorpicker-right"),this.picker.on("mousedown.colorpicker touchstart.colorpicker",l.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:l("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":l.proxy(this.keyup,this)}),!1===this.component&&this.element.on({"focus.colorpicker":l.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":l.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":l.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":l.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":l.proxy(this.show,this),"focus.colorpicker":l.proxy(this.show,this)}),this.update(),l(l.proxy(function(){this.element.trigger("create")},this))};a.Color=s,a.prototype={constructor:a,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var t=this.container&&this.container[0]!==document.body?"position":"offset",e=this.component||this.element,i=e[t]();"right"===this.options.align&&(i.left-=this.picker.outerWidth()-e.outerWidth()),this.picker.css({top:i.top+e.outerHeight(),left:i.left})},show:function(t){return!this.isDisabled()&&(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),l(window).on("resize.colorpicker",l.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!1===this.options.inline&&l(window.document).on({"mousedown.colorpicker":l.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),l(window).off("resize.colorpicker",this.reposition),l(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(t){return t=t||this.color.toString(this.format),this.element.data("color",t),t},updateInput:function(t){return t=t||this.color.toString(this.format),!1!==this.input&&this.input.prop("value",t),t},updatePicker:function(t){void 0!==t&&(this.color=new s(t));var e=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");return 0!==i.length?(!1===this.options.horizontal?(e=this.options.sliders,i.eq(1).css("top",e.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",e.alpha.maxTop*(1-this.color.value.a))):(e=this.options.slidersHorz,i.eq(1).css("left",e.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",e.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:e.saturation.maxTop-this.color.value.b*e.saturation.maxTop,left:this.color.value.s*e.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),t):void 0},updateComponent:function(t){if(t=t||this.color.toString(this.format),!1!==this.component){var e=this.component.find("i").eq(0);0<e.length?e.css({backgroundColor:t}):this.component.css({backgroundColor:t})}return t},update:function(t){var e;return(!1!==this.getValue(!1)||!0===t)&&(e=this.updateComponent(),this.updateInput(e),this.updateData(e),this.updatePicker()),e},setValue:function(t){this.color=new s(t),this.update(),this.element.trigger({type:"changeColor",color:this.color,value:t})},getValue:function(t){var e;return t=void 0===t?"#000000":t,(void 0===(e=this.hasInput()?this.input.val():this.element.data("color"))||""===e||null===e)&&(e=t),e},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){t.pageX||t.pageY||!t.originalEvent||(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var e=l(t.target).closest("div"),i=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!e.is(".colorpicker")){if(e.is(".colorpicker-saturation"))this.currentSlider=l.extend({},i.saturation);else if(e.is(".colorpicker-hue"))this.currentSlider=l.extend({},i.hue);else{if(!e.is(".colorpicker-alpha"))return!1;this.currentSlider=l.extend({},i.alpha)}var s=e.offset();this.currentSlider.guide=e.find("i")[0].style,this.currentSlider.left=t.pageX-s.left,this.currentSlider.top=t.pageY-s.top,this.mousePointer={left:t.pageX,top:t.pageY},l(document).on({"mousemove.colorpicker":l.proxy(this.mousemove,this),"touchmove.colorpicker":l.proxy(this.mousemove,this),"mouseup.colorpicker":l.proxy(this.mouseup,this),"touchend.colorpicker":l.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(t){t.pageX||t.pageY||!t.originalEvent||(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((t.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((t.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=e+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,e/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),"setAlpha"==this.currentSlider.callTop&&!1===this.options.format&&(1!=this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),l(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},keyup:function(t){if(38===t.keyCode)this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0);else if(40===t.keyCode)0<this.color.value.a&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0);else{var e=this.input.val();this.color=new s(e),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())}this.element.trigger({type:"changeColor",color:this.color,value:e})}},l.colorpicker=a,l.fn.colorpicker=function(s){var o,n=arguments,t=this.each(function(){var t=l(this),e=t.data("colorpicker"),i="object"==typeof s?s:{};e||"string"==typeof s?"string"==typeof s&&(o=e[s].apply(e,Array.prototype.slice.call(n,1))):t.data("colorpicker",new a(this,i))});return"getValue"===s?o:t},l.fn.colorpicker.constructor=a}),function(x){"use strict";function w(t,e){return x.map(t,function(t){return t+".touchspin_"+e})}var C=0;x.fn.TouchSpin=function(y){if("destroy"!==y){var _={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},k={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function o(){var t,e,i;""!==(t=m.val())&&(0<p.decimals&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=0),(i=e).toString()!==t&&(i=e),e<p.min&&(i=p.min),e>p.max&&(i=p.max),i=function(t){switch(p.forcestepdivisibility){case"round":return(Math.round(t/p.step)*p.step).toFixed(p.decimals);case"floor":return(Math.floor(t/p.step)*p.step).toFixed(p.decimals);case"ceil":return(Math.ceil(t/p.step)*p.step).toFixed(p.decimals);default:return t}}(i),Number(t).toString()!==i.toString()&&(m.val(i),m.trigger("change"))))}function i(){if(p.booster){var t=Math.pow(2,Math.floor(g/p.boostat))*p.step;return p.maxboostedstep&&t>p.maxboostedstep&&(t=p.maxboostedstep,s=Math.round(s/t)*t),Math.max(p.step,t)}return p.step}function n(){o(),s=parseFloat(c.input.val()),isNaN(s)&&(s=0);var t=s,e=i();(s+=e)>p.max&&(s=p.max,m.trigger("touchspin.on.max"),h()),c.input.val(Number(s).toFixed(p.decimals)),t!==s&&m.trigger("change")}function a(){o(),s=parseFloat(c.input.val()),isNaN(s)&&(s=0);var t=s,e=i();(s-=e)<p.min&&(s=p.min,m.trigger("touchspin.on.min"),h()),c.input.val(s.toFixed(p.decimals)),t!==s&&m.trigger("change")}function r(){h(),g=0,b="down",m.trigger("touchspin.on.startspin"),m.trigger("touchspin.on.startdownspin"),d=setTimeout(function(){t=setInterval(function(){g++,a()},p.stepinterval)},p.stepintervaldelay)}function l(){h(),g=0,b="up",m.trigger("touchspin.on.startspin"),m.trigger("touchspin.on.startupspin"),f=setTimeout(function(){e=setInterval(function(){g++,n()},p.stepinterval)},p.stepintervaldelay)}function h(){switch(clearTimeout(d),clearTimeout(f),clearInterval(t),clearInterval(e),b){case"up":m.trigger("touchspin.on.stopupspin"),m.trigger("touchspin.on.stopspin");break;case"down":m.trigger("touchspin.on.stopdownspin"),m.trigger("touchspin.on.stopspin")}g=0,b=!1}var p,u,c,s,t,e,d,f,m=x(this),v=m.data(),g=0,b=!1;!function(){if(!m.data("alreadyinitialized")){if(m.data("alreadyinitialized",!0),C+=1,m.data("spinnerid",C),!m.is("input"))return console.log("Must be an input.");""!==(p=x.extend({},_,v,(s={},x.each(k,function(t,e){var i="bts-"+e;m.is("[data-"+i+"]")&&(s[t]=m.data(i))}),s),y)).initval&&""===m.val()&&m.val(p.initval),o(),t=m.val(),e=m.parent(),""!==t&&(t=Number(t).toFixed(p.decimals)),m.data("initvalue",t).val(t),m.addClass("form-control"),e.hasClass("input-group")?function(t){t.addClass("bootstrap-touchspin");var e,i,s=m.prev(),o=m.next(),n='<span class="input-group-addon bootstrap-touchspin-prefix">'+p.prefix+"</span>",a='<span class="input-group-addon bootstrap-touchspin-postfix">'+p.postfix+"</span>";s.hasClass("input-group-btn")?(e='<button class="'+p.buttondown_class+' bootstrap-touchspin-down" type="button">'+p.buttondown_txt+"</button>",s.append(e)):(e='<span class="input-group-btn"><button class="'+p.buttondown_class+' bootstrap-touchspin-down" type="button">'+p.buttondown_txt+"</button></span>",x(e).insertBefore(m)),o.hasClass("input-group-btn")?(i='<button class="'+p.buttonup_class+' bootstrap-touchspin-up" type="button">'+p.buttonup_txt+"</button>",o.prepend(i)):(i='<span class="input-group-btn"><button class="'+p.buttonup_class+' bootstrap-touchspin-up" type="button">'+p.buttonup_txt+"</button></span>",x(i).insertAfter(m)),x(n).insertBefore(m),x(a).insertAfter(m),u=t}(e):(i=p.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+p.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+p.postfix+'</span><span class="input-group-btn-vertical"><button class="'+p.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+p.verticalupclass+'"></i></button><button class="'+p.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+p.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+p.buttondown_class+' bootstrap-touchspin-down" type="button">'+p.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+p.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+p.postfix+'</span><span class="input-group-btn"><button class="'+p.buttonup_class+' bootstrap-touchspin-up" type="button">'+p.buttonup_txt+"</button></span></div>",u=x(i).insertBefore(m),x(".bootstrap-touchspin-prefix",u).after(m),m.hasClass("input-sm")?u.addClass("input-group-sm"):m.hasClass("input-lg")&&u.addClass("input-group-lg")),c={down:x(".bootstrap-touchspin-down",u),up:x(".bootstrap-touchspin-up",u),input:x("input",u),prefix:x(".bootstrap-touchspin-prefix",u).addClass(p.prefix_extraclass),postfix:x(".bootstrap-touchspin-postfix",u).addClass(p.postfix_extraclass)},""===p.prefix&&c.prefix.hide(),""===p.postfix&&c.postfix.hide(),m.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==b&&(n(),l()),t.preventDefault()):40===e&&("down"!==b&&(a(),r()),t.preventDefault())}),m.on("keyup",function(t){var e=t.keyCode||t.which;38===e?h():40===e&&h()}),m.on("blur",function(){o()}),c.down.on("keydown",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("down"!==b&&(a(),r()),t.preventDefault())}),c.down.on("keyup",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&h()}),c.up.on("keydown",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("up"!==b&&(n(),l()),t.preventDefault())}),c.up.on("keyup",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&h()}),c.down.on("mousedown.touchspin",function(t){c.down.off("touchstart.touchspin"),m.is(":disabled")||(a(),r(),t.preventDefault(),t.stopPropagation())}),c.down.on("touchstart.touchspin",function(t){c.down.off("mousedown.touchspin"),m.is(":disabled")||(a(),r(),t.preventDefault(),t.stopPropagation())}),c.up.on("mousedown.touchspin",function(t){c.up.off("touchstart.touchspin"),m.is(":disabled")||(n(),l(),t.preventDefault(),t.stopPropagation())}),c.up.on("touchstart.touchspin",function(t){c.up.off("mousedown.touchspin"),m.is(":disabled")||(n(),l(),t.preventDefault(),t.stopPropagation())}),c.up.on("mouseout touchleave touchend touchcancel",function(t){b&&(t.stopPropagation(),h())}),c.down.on("mouseout touchleave touchend touchcancel",function(t){b&&(t.stopPropagation(),h())}),c.down.on("mousemove touchmove",function(t){b&&(t.stopPropagation(),t.preventDefault())}),c.up.on("mousemove touchmove",function(t){b&&(t.stopPropagation(),t.preventDefault())}),x(document).on(w(["mouseup","touchend","touchcancel"],C).join(" "),function(t){b&&(t.preventDefault(),h())}),x(document).on(w(["mousemove","touchmove","scroll","scrollstart"],C).join(" "),function(t){b&&(t.preventDefault(),h())}),m.on("mousewheel DOMMouseScroll",function(t){if(p.mousewheel&&m.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),e<0?a():n()}}),m.on("touchspin.uponce",function(){h(),n()}),m.on("touchspin.downonce",function(){h(),a()}),m.on("touchspin.startupspin",function(){l()}),m.on("touchspin.startdownspin",function(){r()}),m.on("touchspin.stopspin",function(){h()}),m.on("touchspin.updatesettings",function(t,e){!function(t){var e;e=t,p=x.extend({},p,e),o();var i=c.input.val();""!==i&&(i=Number(c.input.val()),c.input.val(i.toFixed(p.decimals)))}(e)}),c.input.css("display","block")}var t,e,i,s}()})}this.each(function(){var t=x(this).data();x(document).off(w(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],t.spinnerid).join(" "))})}}(jQuery),function(a){var r=function(t,e){this.options=e,this.$elementFilestyle=[],this.$element=a(t)};r.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val(""),this.$elementFilestyle.remove()},disabled:function(t){if(!0===t)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(!1!==t)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(t){if(!0===t)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(!1!==t)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(t){if(!0===t)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(!1!==t)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".glyphicon").remove())}},input:function(t){if(!0===t)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(!1!==t)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var e=this.pushNameFiles();0<e.length&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(t){if(void 0===t)return this.options.size;var e=this.$elementFilestyle.find("label"),i=this.$elementFilestyle.find("input");e.removeClass("btn-lg btn-sm"),i.removeClass("input-lg input-sm"),"nr"!=t&&(e.addClass("btn-"+t),i.addClass("input-"+t))},buttonText:function(t){if(void 0===t)return this.options.buttonText;this.options.buttonText=t,this.$elementFilestyle.find("label span").html(this.options.buttonText)},buttonName:function(t){if(void 0===t)return this.options.buttonName;this.options.buttonName=t,this.$elementFilestyle.find("label").attr({class:"btn "+this.options.buttonName})},iconName:function(t){if(void 0===t)return this.options.iconName;this.$elementFilestyle.find(".glyphicon").attr({class:".glyphicon "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="glyphicon '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" disabled> ':""},pushNameFiles:function(){var t="",e=[];void 0===this.$element[0].files?e[0]={name:this.$element[0]&&this.$element[0].value}:e=this.$element[0].files;for(var i=0;i<e.length;i++)t+=e[i].name.split("\\").pop()+", ";return""!==t?this.$elementFilestyle.find(":text").val(t.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),e},constructor:function(){var t,e,i=this,s=i.$element.attr("id");""!==s&&s||(s="filestyle-"+a(".bootstrap-filestyle").length,i.$element.attr({id:s})),e='<span class="group-span-filestyle '+(i.options.input?"input-group-btn":"")+'"><label for="'+s+'" class="btn '+i.options.buttonName+" "+("nr"==i.options.size?"":"btn-"+i.options.size)+'" '+(i.options.disabled?'disabled="true"':"")+">"+i.htmlIcon()+i.options.buttonText+"</label></span>",t=i.options.buttonBefore?e+i.htmlInput():i.htmlInput()+e,i.$elementFilestyle=a('<div class="bootstrap-filestyle input-group">'+t+"</div>"),i.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(t){if(13===t.keyCode||32===t.charCode)return i.$elementFilestyle.find("label").click(),!1}),i.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(i.$elementFilestyle),i.options.disabled&&i.$element.attr("disabled","true"),i.$element.change(function(){var t=i.pushNameFiles();0==i.options.input&&i.options.badge?0==i.$elementFilestyle.find(".badge").length?i.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"):0==t.length?i.$elementFilestyle.find(".badge").remove():i.$elementFilestyle.find(".badge").html(t.length):i.$elementFilestyle.find(".badge").remove()}),-1<window.navigator.userAgent.search(/firefox/i)&&i.$elementFilestyle.find("label").click(function(){return i.$element.click(),!1})}};var t=a.fn.filestyle;a.fn.filestyle=function(s,o){var n="",t=this.each(function(){if("file"===a(this).attr("type")){var t=a(this),e=t.data("filestyle"),i=a.extend({},a.fn.filestyle.defaults,s,"object"==typeof s&&s);e||(t.data("filestyle",e=new r(this,i)),e.constructor()),"string"==typeof s&&(n=e[s](o))}});return void 0!==typeof n?n:t},a.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1},a.fn.filestyle.noConflict=function(){return a.fn.filestyle=t,this},a(function(){a(".filestyle").each(function(){var t=a(this),e={input:"false"!==t.attr("data-input"),icon:"false"!==t.attr("data-icon"),buttonBefore:"true"===t.attr("data-buttonBefore"),disabled:"true"===t.attr("data-disabled"),size:t.attr("data-size"),buttonText:t.attr("data-buttonText"),buttonName:t.attr("data-buttonName"),iconName:t.attr("data-iconName"),badge:"false"!==t.attr("data-badge")};t.filestyle(e)})})}(window.jQuery);